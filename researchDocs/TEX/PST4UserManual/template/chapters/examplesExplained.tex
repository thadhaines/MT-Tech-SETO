% file to contain information on examples
%==============================================================================
\chapter{Examples}
Examples are located in the \verb|0-examples| folder and are designed to be run in batch mode.
This means that each example copies any required system, model, or modulation file to the main PST directory before running.
Typically, each example folder contains a \verb|.m| file that starts with \verb|run_| that can be used to run the example.
As example cases are located on a github repository, relative file paths are used so that examples can be run without much difficulty from various different machines.
While most examples can be run in multiple versions of PST, some functionality can only be found in specific versions.


\section{Example Operation Overview }

\noindent The general structure of created examples tend to reflect the following:
\begin{enumerate}
\itemsep 0em
\item Clear all variables, close all figures, and clear the command window.
\item Define which version of PST to use.
\item Create a relative path to the root directory of chosen PST version.
\item Copy any system, model, or modulation file to the PST root directory.
\item Run \verb|s_simu|.
\item Save output data.
\item Restore any model or modulation file to original state.
\item Create data plots.
\end{enumerate}

A high level flow chart of the \verb|s_simu| script is presented in Appendix \ref{sec: simu BD}.
It should be noted that in \verb|s_simu|, an optional \verb|g.sys.DEBUG| flag may be set to 1 to display more output to the console.
%=================================================================
\input{examples/hiskens/hiskens}


%=====================================================================
\section{Modulation Examples} \label{sec: modExamples}
PST provides numerous ways to input a defined modulation signal into a variety of models.
The following list of example folder names work in all versions of PST and typically create linear/non-linear comparison plots.
While the examples themselves do not reflect any particular scenario, the provided code may be useful to create a particular scenario.

\begin{itemize}
\item \verb|lmod| - Replaces the \verb|ml_sig| file to modulate real load power.
\item \verb|mexc| - Replaces the \verb|mexc_sig| file to modulate the exciter reference signal.
\item \verb|mtg_sig| - Replaces the \verb|mtg_sig| file to modulate the governor $P_{ref}$ reference signal.
\item \verb|pm_sig| - Replaces the \verb|mpm_sig| file to modulate a machines mechanical power.
\item \verb|rlmod| - Replaces the \verb|rml_sig| file to modulate reactive load power.
\item \verb|SVC| - Replaces the \verb|msvc_sig| file to modulate an SVC's output value.
\item \verb|TCSC| - Replaces the \verb|mtcsc_sig| file to modulate an TCSC's output value.
\end{itemize}

\noindent It should be noted that modulation files for PST 2 and 3 assume input to function is ($t, k$), i.e. full time vector and data index, while PST 4 only requires the data index $k$.


%=====================================================================
\pagebreak
\section{AGC - WIP}
Automatic generation control (AGC) has been added only to PST 4.
As such, only PST 4 can run the AGC examples.
Both AGC examples use the modified Kundur 4 machine model shown in Figure \ref{fig: runAGC one line}.

\begin{figure}[H]
	\centering
	\footnotesize
	\includegraphics[width=.85\linewidth]{examples/agc/sysOneLineAreas}
	\caption{One-Line used in run\_AGC.}
	\label{fig: runAGC one line}
\end{figure}%\vspace{-1 em}

%-----------------------------------------------------------------------
\input{examples/runAGC/runAGC}

%-----------------------------------------------------------------------
% split into seperate doc due to pre existing results
\input{examples/agcMod/agcMod}

%=======================================================================
\input{examples/extendedTerm/extendedTerm}

%=======================================================================
\pagebreak
\input{examples/ivmmod/ivmExample}

%=======================================================================
\pagebreak
\section{miniWECC - WIP}
The miniWECC is a 120 bus 34 generator system designed to simulate the western US interconnect.
The original miniWECC was created without areas however, two slightly different multi-area models have been created.
One mirrors the divisions used by \cite{haines2020}, while the other attempts to recreate the EIA area boundaries.
One-line diagrams of both configurations are presented in Appendix \ref{sec: mw Sys}.

%=======================================================================
\input{examples/miniWECC/genTrip}
%=======================================================================
\pagebreak
\input{examples/miniWECC/AGC-VTS}

%=======================================================================
\pagebreak
\input{examples/pwrmod/pwrmodExamples}

%=======================================================================
\pagebreak
\input{examples/untrip/untrip}

%=====================================================================
% Working examples that are not really worth describing in great detail
\pagebreak
\section{Lightly Introduced Examples - WIP}
These examples exist on github, but don't necessarily require a much more than a casual mention.
\subsection{DC - WIP}
Non-linear simulation seems to work in all versions.
Linear analysis doesn't seem to work correctly - possibly due to user error

\subsection{exciterBatchTests - WIP}
PST 4 only script.
Used to compare all 4 exciter models linear/non-linear response to load step.
Was useful in ensuring exciter models were cast to globals correctly.

\subsection{inductive - WIP}
Meant to verify functionality of inductive generators and loads (motors) using a global g.
Multiple cases run from example script: fault example and load pulse with linear/non-linear comparison.
Works in all PST versions.

\subsection{tg - WIP}
Examples of a load step with and without governor action.
Meant to clearly show how governors act to arrest frequency change.

